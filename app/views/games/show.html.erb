Id : <%= @game.id %> <br />
<div id='status'>Status : <span><%= @game.status %></div></div> <br />
<div id='remain_time'>Remain Time : <span id='count'></span></div>

<%# TODO: 한명만 있을땐 한명만 보이게 처리 %>
<div class='player' id='first_player'>
  Player 1 : <span class='player_id'><%= @game_player_ids.first %></span>, score : <span class='score'><%= @last_score['0'] %></span> <br />
</div>
<div class='player' id='last_player'>
  Player 2 : <span class='player_id'><%= @game_player_ids.last %></span>, score : <span class='score'><%= @last_score['1'] %></span> <br />
</div>

<%# TODO: if game is full, hide below %>
<%= form_tag games_join_path do %>
  <%= hidden_field_tag 'game_id', @game.id %>
  <%= submit_tag 'join' %>
<% end %>

<%# TODO: if game is not full, disable this %>
<%= form_tag games_start_path do %>
  <%= hidden_field_tag 'game_id', @game.id %>
  <%= submit_tag 'game start' %>
<% end %>

<%= form_tag games_leave_path do %>
  <%= hidden_field_tag 'game_id', @game.id %>
  <%= submit_tag 'game leave' %>
<% end %>
<%= hidden_field_tag 'game_id', @game.id %>

<% if @game.started? || @game.finished? %>
  <div class='game_borad'>
    <% @last_matrix[0].length.times do |i| %>
      <div class='tiles' style='display: flex;'>
      <% @last_matrix[0].length.times do |j| %>
        <% if @last_matrix[i][j] == 0 %>
          <% color = 'red' %>
        <% elsif @last_matrix[i][j] == 1 %>
          <% color = 'blue' %>
        <% else %>
          <% color = 'black' %>
        <% end %>
        <div class='tile' style="width: 20px; height: 20px; background: <%= color %>; display: inline-block;" data-x=<%=i%> data-y=<%=j%>></div>
      <% end %>
      </div>
    <% end %>
  </div>
<% else %>
  <div class='game_board'>
<% end %>
</div>
